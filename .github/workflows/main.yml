name: Criar nova branch

on:
  workflow_dispatch:

jobs:
  criar-branch:
    name: Criar nova branch e adicionar arquivo
    runs-on: ubuntu-latest

    steps:
    - name: Checkout do repositório
      uses: actions/checkout@v4.1.2

    - name: Configurar usuário do Git
      run: |
        git config --global user.email "hostmaster@precopratico.com.br"
        git config --global user.name "GitHub Actions"

    - name: Criar arquivo de teste ( Adicione ou modifique um arquivo aqui )
      run: echo "Este é um arquivo de teste" > novo_arquivo.txt

    - name: Criar nova branch
      run: git checkout -b teste3 ${{ github.ref }}

    - name: Commit da nova branch
      run: git commit -am "Criando nova branch a partir de ${{ github.ref }}"

    - name: Push da nova branch
      run: git push -u origin teste3
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}